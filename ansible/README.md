Роль
=========

Реализовал развертывание кластера кафки (в примитивном варианте). Часть переменных можно было вынести в group_vars,
но в силу очень ограниченного времени - не успел и разделил между defaults/vars (по признаку потенциальной частоты 
использования). Тестировал на 3ех VM с ubuntu 20.04, достаточный на первый взгляд 
уровень идемпотентности обеспечивает, управляется тегами. Т.к. серьезных требований к версии java в рамках задачи не 
просматривается - ставится openjdk пакетом.


Восстановление кластера
=========

Концептуальных проблем было 2:
ZK слушал порт 2181 на IPv6 интерфейсе, в то время как кафка localhost резолвила в IPv4. Поменял в конфигурации кафки
на [::1]:2181. Вторая проблема касалась прав на директории, в частности логов. Наверное правильнее было бы использовать
setfacl или перенастроить логирование, но для выполнения тестового задания оказалось достаточно добавить пользователя zookeeper 
в группу kafka, дать прав группе на директорию и все завелось:

```console
./kafka-topics.sh --create --zookeeper [::1]:2181 --replication-factor 1 --partitions 1 --topic HelloKafka
/usr/lib/kafka/bin/..
Created topic HelloKafka.


./zookeeper-shell.sh [::1]:2181 ls /brokers/ids
/usr/lib/kafka/bin/..
Connecting to [::1]:2181

WATCHER::

WatchedEvent state:SyncConnected type:None path:null
[1001, 1002, 1003]
```